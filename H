using System;
using System.Collections.Generic;

class Program
{
    public class Echeancier
    {
        public DateTime DateDebut { get; set; }
        public DateTime DateFin { get; set; }
    }

    static void Main()
    {
        // Date de livraison
        DateTime dateLivraison = new DateTime(2024, 12, 25);
        
        // Liste pour stocker les échéanciers
        List<Echeancier> echeanciers = GenererEcheancier(dateLivraison);
        
        // Affichage des échéanciers
        Console.WriteLine("Échéancier pour la date de livraison : " + dateLivraison.ToShortDateString());
        foreach (var echeancier in echeanciers)
        {
            Console.WriteLine($"Date de début: {echeancier.DateDebut.ToShortDateString()}, Date de fin: {echeancier.DateFin.ToShortDateString()}");
        }
    }

    static List<Echeancier> GenererEcheancier(DateTime dateLivraison)
    {
        List<Echeancier> echeanciers = new List<Echeancier>();

        // Définir la durée entre chaque étape (ici 7 jours pour l'exemple)
        TimeSpan dureeEcheance = TimeSpan.FromDays(7);

        // Calculer le nombre d'étapes en fonction de la date de livraison
        DateTime dateCourante = dateLivraison;
        
        // On considère un échéancier de 4 étapes avant la livraison
        for (int i = 0; i < 4; i++)
        {
            // Définir la date de début de l'étape (peut être passé ou futur)
            DateTime dateDebut = dateCourante - dureeEcheance * (i + 1); // La date commence avant la livraison
            
            // La date de fin est 7 jours après la date de début
            DateTime dateFin = dateDebut + dureeEcheance;
            
            // Ajouter l'échéancier à la liste
            echeanciers.Add(new Echeancier { DateDebut = dateDebut, DateFin = dateFin });
        }

        return echeanciers;
    }
}
